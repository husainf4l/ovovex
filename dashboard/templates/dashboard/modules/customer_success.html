{% load static %}

<!-- Success Response for HTMX -->
<div id="customerSuccessMessage" class="p-6 text-center">
    <div class="mb-4">
        <i class="fas fa-check-circle text-green-500 text-4xl"></i>
    </div>
    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">Customer Created Successfully!</h3>
    <p class="text-gray-600 dark:text-gray-400 mb-4">{{ message }}</p>
    <div class="text-sm text-gray-500 dark:text-gray-500">
        <strong>{{ customer.company_name }}</strong><br>
        Code: {{ customer.customer_code }}<br>
        Email: {{ customer.email }}
    </div>
</div>

<script>
// Close modal and refresh page after a short delay
setTimeout(function() {
    // Find and close the modal
    const modal = document.getElementById('customerFormModal');
    if (modal) {
        modal.remove();
    }
    // Refresh the page to show the new customer
    location.reload();
}, 1500);
</script>